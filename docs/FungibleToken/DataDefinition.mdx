---
sidebar_position: 2
---

# Data Definition
## ErrorInfo
```rust
/* 
  ErrorInfo
  - code : Error code
  - msg : Error message
*/
type ErrorInfo = record { code : nat32; message : text };
```
## BlockResult
```rust
/* 
  BlockResult:
  - Ok : CandidBlock
  - Err : ErrorInfo
  - Forward : principal
*/
type BlockResult = variant {
  Ok : CandidBlock;
  Err : ErrorInfo;
  Forward : principal;
};
```
## QueryBlocksResult
```rust
/* 
  QueryBlocksResult
  - blocks {vec CandidBlock}: blocks
  - error {ErrorInfo}: error
*/
type QueryBlocksResult = record {
  chainLength : nat;
  certificate : opt vec nat8;
  archivedBlocks : vec ArchivedBlocksRange;
  blocks : vec CandidBlock;
  firstBlockIndex : nat;
};
```
## OperationResult
```rust
/*
  OperationResult
    Result type of method approve/burn/transfer/transferFrom etc.
    Error :
        - code : Error code
        - msg : Error message
*/
type OperationResult = variant {
  Ok : record { txId : text; error : opt ErrorInfo; blockHeight : nat };
  Err : ErrorInfo;
};
```
## BooleanResult
```rust
/* 
  BooleanResult:
  - Ok : bool
  - Err : ErrorInfo
*/
type BooleanResult = variant { Ok : bool; Err : ErrorInfo };
```
## ArchiveInfo
```rust
/* 
  ArchiveInfo
  - startBlockHeight {nat}: archive start block height
  - endBlockHeight {nat}: archive end block height
  - numBlocks {nat}: number of blocks in archive canister
  - canisterId {principal}: archive canister id
*/
type ArchiveInfo = record {
  startBlockHeight : nat;
  endBlockHeight: nat;
  numBlocks : nat;
  canisterId : principal;
};
```
## ArchivedBlocksRange
```rust
  ArchivedBlocksRange
  - storageCanisterId {principal}: archive canister id
  - start {nat}: start block height
  - length {nat}: number of blocks in archive canister
*/
type ArchivedBlocksRange = record {
  storageCanisterId : principal;
  start : nat;
  length : nat64;
};
```

## CandidBlock
```rust
/* 
  CandidBlock
  - transaction {CandidTransaction}: transaction
  - timestamp {nat}: block timestamp
  - parentHash {nat}: block parent hash
*/
type CandidBlock = record {
  transaction : CandidTransaction;
  timestamp : nat64;
  parentHash : opt vec nat8;
};
``` 
## CandidTransaction
```rust
/*
  Transaction of token
  - operation {CandidOperation}: operation
  - createdAt {nat64}: transaction created time
*/
type CandidTransaction = record {
  createdAt : nat64;
  operation : CandidOperation;
};
```
## CandidOperation
```rust
/* 
  CandidOperation:
*/
type CandidOperation = variant {
  FeeToModify : record { newFeeTo : text; caller : principal };
  Approve : record {
    fee : nat;
    value : nat;
    owner : text;
    caller : principal;
    spender : text;
  };
  RemoveMinter : record { minter : principal; caller : principal };
  FeeModify : record { newFee : CandidTokenFee; caller : principal };
  AddMinter : record { minter : principal; caller : principal };
  Transfer : record {
    to : text;
    fee : nat;
    value : nat;
    from : text;
    caller : text;
  };
  OwnerModify : record { newOwner : principal; caller : principal };
};
```

## CandidTokenFee
```rust
/*
  CandidTokenFee include minimum and rate
  How to calc fee? fee = math.Max( transferValue * rate , minimum) 
  - minimum {nat}: minimum fee
  - rate {nat32}: fee rate
  - rateDecimals {nat8}: fee rate decimals
*/
type CandidTokenFee = record {
  rate : nat32;
  minimum : nat;
  rateDecimals : nat8;
};
```
## CandidTokenMetadata
```rust
/*
  Metadata of token
  includes: 
          fee setting
          decimals
          name
          symbol
*/
type CandidTokenMetadata = record {
  fee : CandidTokenFee;
  decimals : nat8;
  name : text;
  symbol : text;
};
```
## TokenHolder
```rust
/*
  TokenHolder
     Both support Account ID(ledger account ID) and Principal ID
*/
type TokenHolder = variant { None; Account : text; Principal : principal };
```
## TokenInfo
```rust
/*
  TokenInfo
  - certificate {opt vec nat8}: certificate
  - owner {principal}: owner
  - allowanceSize {nat64}: allowance size
  - cycles {nat64}: cycles balance of token
  - blockHeight {nat64}: block height of token
  - holders {nat64}: token total holders count
  - storages {vec principal}: token archive storage ids
  - feeTo {text}: fee to address,support Account ID/Principal ID
*/
type TokenInfo = record {
  certificate : opt vec nat8;
  owner : principal;
  allowanceSize : nat64;
  cycles : nat64;
  blockHeight : nat;
  holders : nat64;
  storages : vec principal;
  feeTo : text;
};
```